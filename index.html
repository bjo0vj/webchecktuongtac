<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒêƒÉng Nh·∫≠p - Qu·∫£n L√Ω T∆∞∆°ng T√°c</title>
    <link rel="stylesheet" href="style.css">
</head>

<body class="login-page">
    <div class="login-container">
        <div class="login-box">
            <div class="login-header">
                <div class="logo">üìä</div>
                <h1>Qu·∫£n L√Ω T∆∞∆°ng T√°c</h1>
                <p>ƒêƒÉng nh·∫≠p ƒë·ªÉ qu·∫£n l√Ω nh√≥m c·ªßa b·∫°n</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="input-group">
                    <label>M√£ Code</label>
                    <input type="text" id="code" placeholder="Nh·∫≠p m√£ 10 s·ªë" maxlength="10" required>
                </div>
                <div class="input-group">
                    <label>M·∫≠t Kh·∫©u</label>
                    <input type="password" id="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u 10 s·ªë" maxlength="10" required>
                </div>
                <button type="submit" class="btn-login">ƒêƒÉng Nh·∫≠p</button>
            </form>
            <div class="login-footer">
                <p>S·ª≠ d·ª•ng l·ªánh <code>/addaccount</code> trong bot ƒë·ªÉ t·∫°o t√†i kho·∫£n</p>
            </div>
        </div>
    </div>
    <script>
        // Login form handler
        document.getElementById('loginForm').onsubmit = async (e) => {
            e.preventDefault();
            const code = document.getElementById('code').value;
            const password = document.getElementById('password').value;

            const res = await fetch('/api/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ code, password })
            });
            const data = await res.json();

            if (data.success) {
                localStorage.setItem('userCode', code);
                window.location.href = 'dashboard.html';
            } else {
                alert(data.message || 'Sai th√¥ng tin');
            }
        };
    </script>
</body>

</html>